<div class="portlet box blue-hoki" >
  <div class="portlet-title">
    <div class="caption">
      <i class="fa fa-globe"></i>
      <h3> {{tabletitle}}</h3>
    </div>
  </div>
  <div class="portlet-body">
    <button ng-if="tabledata.mode!='requestedperm'" type="button" class="btn btn-info btn-sm" ng-click="addNewEntity()">
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add New 
    </button>
    <table class="table table-striped table-bordered table-hover" id="{{tableid}}">
      <thead>
        <tr>
          <th ng-repeat="title in tabledata.header" ng-if="title.showIt">{{title.title}}</th>
          <th ng-if="tabledata.mode=='editable'">View</th>
          <th ng-if="tabledata.mode=='editable'">Edit</th>
          <th ng-if="tabledata.mode=='editable'">Delete</th>
          <th ng-if="tabledata.mode=='deleted'">View</th>
          <th ng-if="tabledata.mode=='deleted'">Restore</th>
          <th ng-if="tabledata.mode=='requestedperm'">Create</th>
          <th ng-if="tabledata.mode=='requestedperm'">Delete</th>
        </tr>
      </thead>
      <tbody ng-show="tabledata.mode=='requestedperm'">
        <tr ng-repeat="row in tabledata.data" ng-init="rowNum = $index">
          <td ng-repeat="item in row" ng-if="item.showIt" >{{item.value}}</td>
          <td>
            <button class='btn btn-warning btn-xs' type="submit" ng-click="create_permission(rowNum)" value="create">
              <span class="glyphicon glyphicon-plus fa fa-times" aria-hidden="true"></span> Create
            </button>
          </td>
          <td>
            <button class='btn btn-danger btn-xs' type="submit" ng-click="delete_entity(rowNum)" value="delete">
              <span class="glyphicon glyphicon-minus fa fa-times" aria-hidden="true"></span> Delete
            </button> 
          </td>
        </tr>
      </tbody>
      <tbody ng-show="tabledata.mode=='editable'">
        <tr ng-repeat="row in tabledata.data" ng-init="rowNum = $index">
          <td ng-repeat="item in row" ng-if="item.showIt" >{{item.value}}</td>
          <td>
            <button class='btn btn-info btn-xs' type="submit" ng-click="view_entity(rowNum)" value="view">
              <span class="glyphicon glyphicon-zoom-in fa fa-times" aria-hidden="true"></span> View
            </button>
          </td>
          <td>
            <button class='btn btn-warning btn-xs' type="submit" ng-click="edit_entity(rowNum)" value="edit">
              <span class="glyphicon glyphicon-pencil fa fa-times" aria-hidden="true"></span> Edit
            </button>
          </td>
          <td>
            <button class='btn btn-danger btn-xs' type="submit" ng-click="delete_entity(rowNum)" value="delete">
              <span class="glyphicon glyphicon-trash fa fa-times" aria-hidden="true"></span> Delete
            </button> 
          </td>
        </tr>
      </tbody>
      <tbody ng-show="tabledata.mode=='deleted'">
        <tr ng-repeat="row in tabledata.data" ng-init="rowNum = $index">
          <td ng-repeat="item in row" ng-if="item.showIt" >{{item.value}}</td>
          <td>
            <button class='btn btn-info btn-xs' type="submit" ng-click="view_entity(rowNum)" value="view">
              <span class="glyphicon glyphicon-zoom-in fa fa-times" aria-hidden="true"></span> View
            </button>
          </td>
          <td>
            <button class='btn btn-warning btn-xs' type="submit" ng-click="restore_entity(rowNum)" value="restore">
              <span class="glyphicon glyphicon-refresh fa fa-times" aria-hidden="true"></span> Restore
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>